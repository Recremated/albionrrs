import{c as Y,j as e,T as ne,C as oe,a as ce,r as H}from"./index-DpIRGi-P.js";import{P as Ae,Z as ie,I as _e,H as Ee,S as He,C as se}from"./constants-D16S9D5I.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],V=Y("calculator",Se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],he=Y("sparkles",Re);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Le=Y("trending-down",ue),w=[{id:"MAIN_ARCANESTAFF",name:"Arcane Staff"},{id:"MAIN_AXE",name:"Axe"},{id:"MAIN_ROCKMACE_KEEPER",name:"Rock Mace"},{id:"MAIN_RAPIER_MORGANA",name:"Morgana Rapier"},{id:"MAIN_SWORD",name:"Sword"},{id:"MAIN_FROSTSTAFF_AVALON",name:"Avalon Frost Staff"},{id:"MAIN_SCIMITAR_MORGANA",name:"Morgana Scimitar"},{id:"MAIN_CURSEDSTAFF",name:"Cursed Staff"},{id:"MAIN_DAGGER",name:"Dagger"},{id:"MAIN_SPEAR_LANCE_AVALON",name:"Avalon Lance"},{id:"MAIN_DAGGER_HELL",name:"Hell Dagger"},{id:"MAIN_MACE_CRYSTAL",name:"Crystal Mace"},{id:"MAIN_NATURESTAFF_KEEPER",name:"Keeper Nature Staff"},{id:"MAIN_FIRESTAFF",name:"Fire Staff"},{id:"MAIN_FIRESTAFF_CRYSTAL",name:"Crystal Fire Staff"},{id:"MAIN_NATURESTAFF_CRYSTAL",name:"Crystal Nature Staff"},{id:"MAIN_FROSTSTAFF",name:"Frost Staff"},{id:"MAIN_HOLYSTAFF_AVALON",name:"Avalon Holy Staff"},{id:"MAIN_HAMMER",name:"Hammer"},{id:"MAIN_SPEAR_KEEPER",name:"Keeper Spear"},{id:"MAIN_FROSTSTAFF_KEEPER",name:"Keeper Frost Staff"},{id:"MAIN_HOLYSTAFF",name:"Holy Staff"},{id:"MAIN_MACE_HELL",name:"Hell Mace"},{id:"MAIN_SWORD_CRYSTAL",name:"Crystal Sword"},{id:"MAIN_NATURESTAFF_AVALON",name:"Avalon Nature Staff"},{id:"MAIN_CURSEDSTAFF_UNDEAD",name:"Undead Cursed Staff"},{id:"MAIN_HOLYSTAFF_MORGANA",name:"Morgana Holy Staff"},{id:"MAIN_1HCROSSBOW",name:"1H Crossbow"},{id:"MAIN_MACE",name:"Mace"},{id:"MAIN_NATURESTAFF",name:"Nature Staff"},{id:"MAIN_CURSEDSTAFF_CRYSTAL",name:"Crystal Cursed Staff"},{id:"MAIN_CURSEDSTAFF_AVALON",name:"Avalon Cursed Staff"},{id:"MAIN_SPEAR",name:"Spear"},{id:"MAIN_FIRESTAFF_KEEPER",name:"Keeper Fire Staff"},{id:"MAIN_ARCANESTAFF_UNDEAD",name:"Undead Arcane Staff"}],q=[{id:"2H_BOW",name:"Bow"},{id:"2H_WARBOW",name:"Warbow"},{id:"2H_LONGBOW",name:"Longbow"},{id:"2H_LONGBOW_UNDEAD",name:"Whispering Bow"},{id:"2H_BOW_HELL",name:"Wailing Bow"},{id:"2H_BOW_KEEPER",name:"Bow of Badon"},{id:"2H_BOW_AVALON",name:"Mistpiercer"},{id:"2H_BOW_CRYSTAL",name:"Skystrider Bow"},{id:"2H_CROSSBOW",name:"Crossbow"},{id:"2H_CROSSBOWLARGE",name:"Heavy Crossbow"},{id:"2H_REPEATINGCROSSBOW_UNDEAD",name:"Weeping Repeater"},{id:"2H_DUALCROSSBOW_HELL",name:"Boltcasters"},{id:"2H_CROSSBOWLARGE_MORGANA",name:"Siegebow"},{id:"2H_CROSSBOW_CANNON_AVALON",name:"Energy Shaper"},{id:"2H_DUALCROSSBOW_CRYSTAL",name:"Arclight Blasters"},{id:"2H_CURSEDSTAFF",name:"Great Cursed Staff"},{id:"2H_DEMONICSTAFF",name:"Demonic Staff"},{id:"2H_SKULLORB_HELL",name:"Cursed Skull"},{id:"2H_CURSEDSTAFF_MORGANA",name:"Damnation Staff"},{id:"2H_FIRESTAFF",name:"Great Fire Staff"},{id:"2H_INFERNOSTAFF",name:"Infernal Staff"},{id:"2H_FIRESTAFF_HELL",name:"Brimstone Staff"},{id:"2H_INFERNOSTAFF_MORGANA",name:"Blazing Staff"},{id:"2H_FIRE_RINGPAIR_AVALON",name:"Dawnsong"},{id:"2H_FROSTSTAFF",name:"Great Frost Staff"},{id:"2H_GLACIALSTAFF",name:"Glacial Staff"},{id:"2H_ICEGAUNTLETS_HELL",name:"Icicle Staff"},{id:"2H_ICECRYSTAL_UNDEAD",name:"Permafrost Prism"},{id:"2H_FROSTSTAFF_CRYSTAL",name:"Arctic Staff"},{id:"2H_ARCANESTAFF",name:"Great Arcane Staff"},{id:"2H_ENIGMATICSTAFF",name:"Enigmatic Staff"},{id:"2H_ARCANESTAFF_HELL",name:"Occult Staff"},{id:"2H_ENIGMATICORB_MORGANA",name:"Malevolent Locus"},{id:"2H_ARCANE_RINGPAIR_AVALON",name:"Evensong"},{id:"2H_ARCANESTAFF_CRYSTAL",name:"Astral Staff"},{id:"2H_HOLYSTAFF",name:"Great Holy Staff"},{id:"2H_DIVINESTAFF",name:"Divine Staff"},{id:"2H_HOLYSTAFF_HELL",name:"Fallen Staff"},{id:"2H_HOLYSTAFF_UNDEAD",name:"Redemption Staff"},{id:"2H_HOLYSTAFF_CRYSTAL",name:"Exalted Staff"},{id:"2H_NATURESTAFF",name:"Great Nature Staff"},{id:"2H_WILDSTAFF",name:"Wild Staff"},{id:"2H_NATURESTAFF_HELL",name:"Blight Staff"},{id:"2H_NATURESTAFF_KEEPER",name:"Rampant Staff"},{id:"2H_DAGGERPAIR",name:"Dagger Pair"},{id:"2H_CLAWPAIR",name:"Claws"},{id:"2H_IRONGAUNTLETS_HELL",name:"Black Hands"},{id:"2H_DUALSICKLE_UNDEAD",name:"Deathgivers"},{id:"2H_DAGGER_KATAR_AVALON",name:"Bridled Fury"},{id:"2H_DAGGERPAIR_CRYSTAL",name:"Twin Slayers"},{id:"2H_SPEAR",name:"Pike"},{id:"2H_GLAIVE",name:"Glaive"},{id:"2H_HARPOON_HELL",name:"Spirithunter"},{id:"2H_TRIDENT_UNDEAD",name:"Trinity Spear"},{id:"2H_GLAIVE_CRYSTAL",name:"Rift Glaive"},{id:"2H_AXE",name:"Greataxe"},{id:"2H_HALBERD",name:"Halberd"},{id:"2H_HALBERD_MORGANA",name:"Carrioncaller"},{id:"2H_SCYTHE_HELL",name:"Infernal Scythe"},{id:"2H_DUALAXE_KEEPER",name:"Bear Paws"},{id:"2H_AXE_AVALON",name:"Realmbreaker"},{id:"2H_SCYTHE_CRYSTAL",name:"Crystal Reaper"},{id:"2H_CLAYMORE",name:"Claymore"},{id:"2H_DUALSWORD",name:"Dual Swords"},{id:"2H_CLEAVER_HELL",name:"Carving Sword"},{id:"2H_DUALSCIMITAR_UNDEAD",name:"Galatine Pair"},{id:"2H_CLAYMORE_AVALON",name:"Kingmaker"},{id:"2H_QUARTERSTAFF",name:"Quarterstaff"},{id:"2H_IRONCLADEDSTAFF",name:"Iron-clad Staff"},{id:"2H_DOUBLEBLADEDSTAFF",name:"Double Bladed Staff"},{id:"2H_COMBATSTAFF_MORGANA",name:"Black Monk Stave"},{id:"2H_TWINSCYTHE_HELL",name:"Soulscythe"},{id:"2H_ROCKSTAFF_KEEPER",name:"Staff of Balance"},{id:"2H_QUARTERSTAFF_AVALON",name:"Grailseeker"},{id:"2H_DOUBLEBLADEDSTAFF_CRYSTAL",name:"Phantom Twinblade"},{id:"2H_POLEHAMMER",name:"Polehammer"},{id:"2H_HAMMER",name:"Great Hammer"},{id:"2H_HAMMER_UNDEAD",name:"Tombhammer"},{id:"2H_DUALHAMMER_HELL",name:"Forge Hammers"},{id:"2H_RAM_KEEPER",name:"Grovekeeper"},{id:"2H_HAMMER_AVALON",name:"Hand of Justice"},{id:"2H_HAMMER_CRYSTAL",name:"Truebolt Hammer"},{id:"2H_MACE",name:"Heavy Mace"},{id:"2H_FLAIL",name:"Morning Star"},{id:"2H_MACE_MORGANA",name:"Camlann Mace"},{id:"2H_DUALMACE_AVALON",name:"Oathkeepers"},{id:"2H_KNUCKLES_SET1",name:"Brawler Gloves"},{id:"2H_KNUCKLES_SET2",name:"Battle Bracers"},{id:"2H_KNUCKLES_SET3",name:"Spiked Gauntlets"},{id:"2H_KNUCKLES_KEEPER",name:"Ursine Maulers"},{id:"2H_KNUCKLES_HELL",name:"Hellfire Hands"},{id:"2H_KNUCKLES_MORGANA",name:"Ravenstrike Cestus"},{id:"2H_KNUCKLES_AVALON",name:"Fists of Avalon"},{id:"2H_KNUCKLES_CRYSTAL",name:"Forcepulse Bracers"},{id:"2H_SHAPESHIFTER_SET1",name:"Prowling Staff"},{id:"2H_SHAPESHIFTER_SET2",name:"Rootbound Staff"},{id:"2H_SHAPESHIFTER_SET3",name:"Primal Staff"},{id:"2H_SHAPESHIFTER_MORGANA",name:"Bloodmoon Staff"},{id:"2H_SHAPESHIFTER_HELL",name:"Hellspawn Staff"},{id:"2H_SHAPESHIFTER_KEEPER",name:"Earthrune Staff"},{id:"2H_SHAPESHIFTER_AVALON",name:"Lightcaller"},{id:"2H_SHAPESHIFTER_CRYSTAL",name:"Stillgaze Staff"}],Z=[{id:"ARMOR_PLATE_SET1",name:"Soldier Armor"},{id:"ARMOR_PLATE_SET2",name:"Knight Armor"},{id:"ARMOR_PLATE_SET3",name:"Guardian Armor"},{id:"ARMOR_PLATE_UNDEAD",name:"Graveguard Armor"},{id:"ARMOR_PLATE_HELL",name:"Demon Armor"},{id:"ARMOR_PLATE_KEEPER",name:"Judicator Armor"},{id:"ARMOR_PLATE_FEY",name:"Duskweaver Armor"},{id:"ARMOR_PLATE_AVALON",name:"Armor of Valor"},{id:"ARMOR_PLATE_ROYAL",name:"Royal Armor"},{id:"ARMOR_LEATHER_SET1",name:"Mercenary Jacket"},{id:"ARMOR_LEATHER_SET2",name:"Hunter Jacket"},{id:"ARMOR_LEATHER_SET3",name:"Assassin Jacket"},{id:"ARMOR_LEATHER_MORGANA",name:"Stalker Jacket"},{id:"ARMOR_LEATHER_HELL",name:"Hellion Jacket"},{id:"ARMOR_LEATHER_UNDEAD",name:"Specter Jacket"},{id:"ARMOR_LEATHER_FEY",name:"Mistwalker Jacket"},{id:"ARMOR_LEATHER_AVALON",name:"Jacket of Tenacity"},{id:"ARMOR_LEATHER_ROYAL",name:"Royal Jacket"},{id:"ARMOR_CLOTH_SET1",name:"Scholar Robe"},{id:"ARMOR_CLOTH_SET2",name:"Cleric Robe"},{id:"ARMOR_CLOTH_SET3",name:"Mage Robe"},{id:"ARMOR_CLOTH_KEEPER",name:"Druid Robe"},{id:"ARMOR_CLOTH_HELL",name:"Fiend Robe"},{id:"ARMOR_CLOTH_MORGANA",name:"Cultist Robe"},{id:"ARMOR_CLOTH_FEY",name:"Feyscale Robe"},{id:"ARMOR_CLOTH_AVALON",name:"Robe of Purity"},{id:"ARMOR_CLOTH_ROYAL",name:"Royal Robe"},{id:"ARMOR_GATHERER_FIBER",name:"Harvester Garb"},{id:"ARMOR_GATHERER_HIDE",name:"Skinner Garb"},{id:"ARMOR_GATHERER_ORE",name:"Miner Garb"},{id:"ARMOR_GATHERER_ROCK",name:"Quarrier Garb"},{id:"ARMOR_GATHERER_WOOD",name:"Lumberjack Garb"},{id:"ARMOR_GATHERER_FISH",name:"Fisherman Garb"}],ee=[{id:"HEAD_PLATE_SET1",name:"Soldier Helmet"},{id:"HEAD_PLATE_SET2",name:"Knight Helmet"},{id:"HEAD_PLATE_SET3",name:"Guardian Helmet"},{id:"HEAD_PLATE_UNDEAD",name:"Graveguard Helmet"},{id:"HEAD_PLATE_HELL",name:"Demon Helmet"},{id:"HEAD_PLATE_KEEPER",name:"Judicator Helmet"},{id:"HEAD_PLATE_FEY",name:"Duskweaver Helmet"},{id:"HEAD_PLATE_AVALON",name:"Helmet of Valor"},{id:"HEAD_PLATE_ROYAL",name:"Royal Helmet"},{id:"HEAD_LEATHER_SET1",name:"Mercenary Hood"},{id:"HEAD_LEATHER_SET2",name:"Hunter Hood"},{id:"HEAD_LEATHER_SET3",name:"Assassin Hood"},{id:"HEAD_LEATHER_MORGANA",name:"Stalker Hood"},{id:"HEAD_LEATHER_HELL",name:"Hellion Hood"},{id:"HEAD_LEATHER_UNDEAD",name:"Specter Hood"},{id:"HEAD_LEATHER_FEY",name:"Mistwalker Hood"},{id:"HEAD_LEATHER_AVALON",name:"Hood of Tenacity"},{id:"HEAD_LEATHER_ROYAL",name:"Royal Hood"},{id:"HEAD_CLOTH_SET1",name:"Scholar Cowl"},{id:"HEAD_CLOTH_SET2",name:"Cleric Cowl"},{id:"HEAD_CLOTH_SET3",name:"Mage Cowl"},{id:"HEAD_CLOTH_KEEPER",name:"Druid Cowl"},{id:"HEAD_CLOTH_HELL",name:"Fiend Cowl"},{id:"HEAD_CLOTH_MORGANA",name:"Cultist Cowl"},{id:"HEAD_CLOTH_FEY",name:"Feyscale Hat"},{id:"HEAD_CLOTH_AVALON",name:"Cowl of Purity"},{id:"HEAD_CLOTH_ROYAL",name:"Royal Cowl"},{id:"HEAD_GATHERER_FIBER",name:"Harvester Cap"},{id:"HEAD_GATHERER_HIDE",name:"Skinner Cap"},{id:"HEAD_GATHERER_ORE",name:"Miner Cap"},{id:"HEAD_GATHERER_ROCK",name:"Quarrier Cap"},{id:"HEAD_GATHERER_WOOD",name:"Lumberjack Cap"},{id:"HEAD_GATHERER_FISH",name:"Fisherman Cap"}],ae=[{id:"SHOES_PLATE_SET1",name:"Soldier Boots"},{id:"SHOES_PLATE_SET2",name:"Knight Boots"},{id:"SHOES_PLATE_SET3",name:"Guardian Boots"},{id:"SHOES_PLATE_UNDEAD",name:"Graveguard Boots"},{id:"SHOES_PLATE_HELL",name:"Demon Boots"},{id:"SHOES_PLATE_KEEPER",name:"Judicator Boots"},{id:"SHOES_PLATE_FEY",name:"Duskweaver Boots"},{id:"SHOES_PLATE_AVALON",name:"Boots of Valor"},{id:"SHOES_PLATE_ROYAL",name:"Royal Boots"},{id:"SHOES_LEATHER_SET1",name:"Mercenary Shoes"},{id:"SHOES_LEATHER_SET2",name:"Hunter Shoes"},{id:"SHOES_LEATHER_SET3",name:"Assassin Shoes"},{id:"SHOES_LEATHER_MORGANA",name:"Stalker Shoes"},{id:"SHOES_LEATHER_HELL",name:"Hellion Shoes"},{id:"SHOES_LEATHER_UNDEAD",name:"Specter Shoes"},{id:"SHOES_LEATHER_FEY",name:"Mistwalker Shoes"},{id:"SHOES_LEATHER_AVALON",name:"Shoes of Tenacity"},{id:"SHOES_LEATHER_ROYAL",name:"Royal Shoes"},{id:"SHOES_CLOTH_SET1",name:"Scholar Sandals"},{id:"SHOES_CLOTH_SET2",name:"Cleric Sandals"},{id:"SHOES_CLOTH_SET3",name:"Mage Sandals"},{id:"SHOES_CLOTH_KEEPER",name:"Druid Sandals"},{id:"SHOES_CLOTH_HELL",name:"Fiend Sandals"},{id:"SHOES_CLOTH_MORGANA",name:"Cultist Sandals"},{id:"SHOES_CLOTH_FEY",name:"Feyscale Sandals"},{id:"SHOES_CLOTH_AVALON",name:"Sandals of Purity"},{id:"SHOES_CLOTH_ROYAL",name:"Royal Sandals"},{id:"SHOES_GATHERER_FIBER",name:"Harvester Workboots"},{id:"SHOES_GATHERER_HIDE",name:"Skinner Workboots"},{id:"SHOES_GATHERER_ORE",name:"Miner Workboots"},{id:"SHOES_GATHERER_ROCK",name:"Quarrier Workboots"},{id:"SHOES_GATHERER_WOOD",name:"Lumberjack Workboots"},{id:"SHOES_GATHERER_FISH",name:"Fisherman Workboots"}],re=[{id:"CAPEITEM_FW_BRIDGEWATCH",name:"Bridgewatch Cape"},{id:"CAPEITEM_FW_FORTSTERLING",name:"Fort Sterling Cape"},{id:"CAPEITEM_FW_LYMHURST",name:"Lymhurst Cape"},{id:"CAPEITEM_FW_MARTLOCK",name:"Martlock Cape"},{id:"CAPEITEM_FW_THETFORD",name:"Thetford Cape"},{id:"CAPEITEM_FW_CAERLEON",name:"Caerleon Cape"},{id:"CAPEITEM_FW_BRECILIEN",name:"Brecilien Cape"},{id:"CAPEITEM_AVALON",name:"Avalonian Cape"},{id:"CAPEITEM_SMUGGLER",name:"Smuggler Cape"},{id:"CAPEITEM_HERETIC",name:"Heretic Cape"},{id:"CAPEITEM_UNDEAD",name:"Undead Cape"},{id:"CAPEITEM_KEEPER",name:"Keeper Cape"},{id:"CAPEITEM_MORGANA",name:"Morgana Cape"},{id:"CAPEITEM_DEMON",name:"Demon Cape"}],xe=["Bridgewatch","Caerleon","Fort Sterling","Lymhurst","Martlock","Thetford","Brecilien"],Te=["T4","T5","T6","T7","T8"],Ne=["0","1","2"],me=(a,t,r)=>{switch(!0){case(t===0&&r===1):return"RUNE";case(t===1&&r===2):return"SOUL";case(t===2&&r===3):return"RELIC";default:return"RUNE"}},te=(a,t,r)=>{const n=me(a,t,r),s=a.replace("T","");return{RUNE:`T${s}_RUNE`,SOUL:`T${s}_SOUL`,RELIC:`T${s}_RELIC`}[n]},P=(a,t,r)=>{const n=`${t}_${a}`;return r==="0"?n:`${n}@${r}`},v=(a,t,r)=>{const n=`${t}_${a}`;return r==="0"?n:`${n}@${r}`},k=(a,t,r)=>{const n=`${t}_${a}`;return r==="0"?n:`${n}@${r}`},G=(a,t,r)=>{const n=`${t}_${a}`;return r==="0"?n:`${n}@${r}`},U=(a,t,r)=>{const n=`${t}_${a}`;return r==="0"?n:`${n}@${r}`},fe=a=>{switch(a){case"oneHand":return 288;case"twoHand":return 384;case"helmet":return 96;case"armor":return 192;case"shoes":return 96;case"cape":return 96;default:return 288}};class pe{constructor(){this.cache=new Map}generateKey(t,r={}){const n=Object.keys(r).sort().map(s=>`${s}=${r[s]}`).join("&");return`${t}?${n}`}get(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>Ae.CACHE_DURATION?(this.cache.delete(t),null):r.data:null}set(t,r){this.cache.set(t,{data:r,timestamp:Date.now()})}clear(){this.cache.clear()}delete(t){this.cache.delete(t)}size(){return this.cache.size}}const B=new pe,K=async(a,t,r=!0)=>{let n=`https://europe.albion-online-data.com/api/v2/stats/prices/${a.join(",")}?locations=${t.join(",")}`;r&&(n+="&qualities=4");const s=B.generateKey(n),o=B.get(s);if(o)return o;const c=await fetch(n);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const A=await c.json();return B.set(s,A),A},l=a=>!a||a===0?"N/A":new Intl.NumberFormat("tr-TR").format(a),Oe=async(a,t,r,n,s,o,c)=>{if(!a||!t||!r||!n){o("Lütfen tüm alanları doldurun");return}s(!0),o(""),c([]);try{const A=parseInt(n),h=[],u=[];for(let i=A+1;i<=3;i++)u.push(i);if(u.length===0){o("Bu enchantment seviyesi için upgrade mümkün değil"),s(!1);return}const _=[],f=new Set,T=a==="helmet"?v(t,r,n):a==="armor"?k(t,r,n):a==="shoes"?G(t,r,n):a==="cape"?U(t,r,n):P(t,r,n);_.push(T);for(const i of u){const S=a==="helmet"?v(t,r,i.toString()):a==="armor"?k(t,r,i.toString()):a==="shoes"?G(t,r,i.toString()):a==="cape"?U(t,r,i.toString()):P(t,r,i.toString());_.push(S);for(let m=A+1;m<=i;m++){const E=te(r,m-1,m);f.add(E)}}const[g,L,C]=await Promise.all([K(_,xe,!0),K(Array.from(f),["Brecilien"],!1),K(_,["Lymhurst"],!0)]),N={},x={},d={};_.forEach(i=>{const S=C.filter(m=>m.item_id===i&&m.sell_price_min&&m.sell_price_min>0);if(S.length>0){const m=S.reduce((E,R)=>R.sell_price_min<E.sell_price_min?R:E);x[i]=m,N[i]=m}else{x[i]=null;const m=g.filter(E=>E.item_id===i&&E.sell_price_min&&E.sell_price_min>0);if(m.length>0){const E=m.reduce((R,O)=>O.sell_price_min<R.sell_price_min?O:R);N[i]=E}}}),L.forEach(i=>{if(!i.sell_price_min||i.sell_price_min===0)return;const S=d[i.item_id];(!S||i.sell_price_min<S.sell_price_min)&&(d[i.item_id]=i)});const p=N[T],I=x[T];if(!p||p.sell_price_min===0){o(`${r} ${t} +${n} için hiçbir şehirde fiyat bulunamadı`),s(!1);return}for(const i of u){const S=a==="helmet"?v(t,r,i.toString()):a==="armor"?k(t,r,i.toString()):a==="shoes"?G(t,r,i.toString()):a==="cape"?U(t,r,i.toString()):P(t,r,i.toString()),m=N[S],E=x[S];if(!m||m.sell_price_min===0)continue;let R=0;const O=[];let $=!0;const W=[],y=fe(a);for(let M=A+1;M<=i;M++){const de=me(r,M-1,M),Q=te(r,M-1,M),F=d[Q];if(!F||F.sell_price_min===0){$=!1;break}const X=F.sell_price_min*y;R+=X,O.push({resourceType:de,resourceId:Q,cost:X,unitPrice:F.sell_price_min,city:F.location,amount:y}),W.push(F.location)}if(!$)continue;const J=p.sell_price_min,z=m.sell_price_min,j=R,b=J+j,D=z-b,le=(D/b*100).toFixed(2);h.push({fromEnch:A,toEnch:i,currentValue:J,targetValue:z,resourceCost:j,upgradeCost:j,totalCost:b,profit:D,profitPercent:le,resourceBreakdown:O,targetItemId:S,isProfit:D>0,currentItemCity:p.location,targetItemCity:m.location,resourceCities:W,currentItemLymhurst:I?I.sell_price_min:null,targetItemLymhurst:E?E.sell_price_min:null,itemType:a,resourceAmount:y})}h.length===0?o("Hiçbir upgrade için yeterli veri bulunamadı"):c(h)}catch(A){o("Hesaplama sırasında hata oluştu: "+A.message)}finally{s(!1)}},ge=()=>e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-3 rounded-full mr-4",children:e.jsx(V,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-emerald-400 bg-clip-text text-transparent",children:"Upgrade Calculator"}),e.jsx("p",{className:"text-sm text-green-300 font-medium",children:"Karlılık Hesaplayıcısı"})]})]}),e.jsx("p",{className:"text-gray-300 text-lg mb-2",children:"Item upgrade'lerinin karlılığını hesaplayın ve en iyi fırsatları bulun"}),e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4 text-yellow-400"}),e.jsx("span",{children:"Hızlı Hesaplama"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-green-400"}),e.jsx("span",{children:"Karlılık Analizi"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-purple-400"}),e.jsx("span",{children:"Premium Veriler"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-white/5 rounded-lg border border-white/10",children:e.jsxs("p",{className:"text-xs text-gray-400",children:[e.jsx("span",{className:"text-green-400",children:"Kaynak:"})," Brecilien |",e.jsx("span",{className:"text-blue-400 ml-2",children:"Satış:"})," Lymhurst |",e.jsx("span",{className:"text-purple-400 ml-2",children:"Quality:"})," 4"]})})]}),Ce=({selectedWeaponType:a,setSelectedWeaponType:t,selectedWeapon:r,setSelectedWeapon:n,selectedTier:s,setSelectedTier:o,selectedEnchantment:c,setSelectedEnchantment:A,searchTerm:h,setSearchTerm:u,showSearchResults:_,setShowSearchResults:f,loading:T,calculateUpgrade:g,clearAll:L,getFilteredWeapons:C,tiers:N,enchantments:x})=>e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 mb-8 border border-white/20",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(ie,{className:"inline h-4 w-4 mr-1"}),"Item Tipi ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{value:a,onChange:d=>{t(d.target.value),n(""),u("")},className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"oneHand",children:"One-Hand Silah (288 birim)"}),e.jsx("option",{value:"twoHand",children:"Two-Hand Silah (384 birim)"}),e.jsx("option",{value:"helmet",children:"Helmet (96 birim)"}),e.jsx("option",{value:"armor",children:"Armor (192 birim)"}),e.jsx("option",{value:"shoes",children:"Shoes (96 birim)"}),e.jsx("option",{value:"cape",children:"Cape (96 birim)"})]})]}),e.jsx(_e,{searchTerm:h,setSearchTerm:u,setSelectedWeapon:n,showSearchResults:_,setShowSearchResults:f,getFilteredWeapons:C}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(Ee,{className:"inline h-4 w-4 mr-1"}),"Tier ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{value:s,onChange:d=>o(d.target.value),className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Tier Seçin"}),N.map(d=>e.jsx("option",{value:d,className:"bg-slate-800",children:d},d))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[e.jsx(He,{className:"inline h-4 w-4 mr-1"}),"Mevcut Enchantment ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{value:c,onChange:d=>A(d.target.value),className:"w-full p-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Enchantment Seçin"}),x.map(d=>e.jsxs("option",{value:d,className:"bg-slate-800",children:["+",d]},d))]})]})]}),(!a||!r||!s||!c)&&e.jsx("div",{className:"mb-6 p-4 bg-yellow-600/20 border border-yellow-500/50 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"h-5 w-5 text-yellow-400 mr-2"}),e.jsxs("p",{className:"text-yellow-200",children:["Hesaplama yapabilmek için ",e.jsx("strong",{children:"item tipi"}),","," ",e.jsx("strong",{children:"item"}),", ",e.jsx("strong",{children:"tier"})," ve"," ",e.jsx("strong",{children:"mevcut enchantment"})," seçimi zorunludur."]})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:g,disabled:T||!a||!r||!s||!c,className:"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:T?e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"inline h-4 w-4 mr-2 animate-spin"}),"Hesaplanıyor..."]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"inline h-4 w-4 mr-2"}),"Upgrade Hesapla"]})}),e.jsx("button",{onClick:L,className:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Temizle"})]})]}),Me=({error:a})=>a?e.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2"}),a]})}):null,Fe=({result:a})=>e.jsxs("div",{className:`p-6 rounded-lg border-2 ${a.isProfit?"bg-green-500/10 border-green-500/50":"bg-red-500/10 border-red-500/50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center text-lg font-semibold text-white",children:[e.jsx(he,{className:"h-5 w-5 mr-2"}),"+",a.fromEnch," → +",a.toEnch," Upgrade"]}),e.jsxs("div",{className:"ml-4 text-sm text-gray-300",children:["Kaynak:"," ",a.resourceBreakdown&&a.resourceBreakdown.map((t,r)=>e.jsxs("span",{children:[r>0&&", ",t.resourceType," (",t.city,")"]},r))]})]}),e.jsxs("div",{className:"flex items-center",children:[a.isProfit?e.jsx(ne,{className:"h-6 w-6 text-green-400 mr-2"}):e.jsx(Le,{className:"h-6 w-6 text-red-400 mr-2"}),e.jsxs("span",{className:`text-lg font-bold ${a.isProfit?"text-green-400":"text-red-400"}`,children:[a.profitPercent,"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Mevcut Değer:"}),a.currentItemLymhurst?e.jsxs("p",{className:"text-white font-medium",children:[l(a.currentValue),e.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",a.currentItemCity,")"]}),e.jsxs("span",{className:"block text-xs text-yellow-400",children:["Lymhurst'te: ",l(a.currentItemLymhurst)]})]}):e.jsx("p",{className:"text-white font-medium",children:a.currentItemCity?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold text-purple-300",children:a.currentItemCity}),"'de: ",l(a.currentValue)]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold text-yellow-300",children:"Tahmini fiyat:"})," ",l(a.currentValue)]})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Upgrade Maliyeti:"}),e.jsxs("p",{className:"text-white font-medium",children:[l(a.upgradeCost),e.jsx("span",{className:"text-xs text-gray-400 ml-1",children:a.resourceBreakdown&&a.resourceBreakdown.map((t,r)=>e.jsxs("span",{children:[r>0&&", ",t.resourceType," (",t.city,")"]},r))})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Hedef Değer:"}),a.targetItemLymhurst?e.jsxs("p",{className:"text-white font-medium",children:[l(a.targetValue),e.jsxs("span",{className:"text-xs text-gray-400 ml-1",children:["(",a.targetItemCity,")"]}),e.jsxs("span",{className:"block text-xs text-yellow-400",children:["Lymhurst'te: ",l(a.targetItemLymhurst)]})]}):e.jsx("p",{className:"text-white font-medium",children:a.targetItemCity?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold text-purple-300",children:a.targetItemCity}),"'de: ",l(a.targetValue)]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold text-yellow-300",children:"Tahmini fiyat:"})," ",l(a.targetValue)]})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Net Kar:"}),e.jsxs("p",{className:`font-bold ${a.isProfit?"text-green-400":"text-red-400"}`,children:[a.profit>0?"+":"",l(a.profit)]})]})]}),a.resourceBreakdown&&e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[e.jsx("strong",{children:"Kaynaklar:"}),a.resourceBreakdown.map((t,r)=>e.jsxs("div",{children:[t.resourceType,": ",l(t.unitPrice)," x ",t.amount," ="," ",l(t.cost)," (",t.city,")"]},r))]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[e.jsx("strong",{children:"Fiyat Detayları:"}),e.jsxs("div",{children:["Mevcut Item: ",l(a.currentValue)," (",a.currentItemCity,")"]}),e.jsxs("div",{children:["Hedef Item: ",l(a.targetValue)," (",a.targetItemCity,")"]}),a.resourceBreakdown&&a.resourceBreakdown.map((t,r)=>e.jsxs("div",{children:[t.resourceType,": ",l(t.unitPrice)," (",t.city,")"]},r))]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:e.jsxs("div",{className:"text-xs text-gray-400",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Hesaplama:"})," Mevcut item değeri (",l(a.currentValue),") + Upgrade maliyeti (",l(a.upgradeCost),") = Toplam maliyet (",l(a.totalCost),")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Kar:"})," Hedef item değeri (",l(a.targetValue),") - Toplam maliyet (",l(a.totalCost),") =",a.profit>0?" +":" ",l(a.profit)]})]})})]}),Ie=({upgradeResults:a,selectedWeapon:t,selectedTier:r,selectedEnchantment:n,selectedWeaponType:s,getDisplayName:o})=>a.length===0?null:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Upgrade Sonuçları"}),e.jsxs("p",{className:"text-gray-300 mb-6",children:[o(t)," ",r," +",n," (",s==="oneHand"?"One-Hand Silah":s==="twoHand"?"Two-Hand Silah":s==="helmet"?"Helmet":s==="armor"?"Armor":s==="shoes"?"Shoes":"Cape",") için upgrade seçenekleri:"]}),e.jsx("div",{className:"space-y-4",children:a.map((c,A)=>e.jsx(Fe,{result:c},A))})]}),ye=({loading:a})=>a?null:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(V,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Upgrade Hesaplayıcı Hazır"}),e.jsx("p",{className:"text-gray-400",children:"Silah tipi, silah, tier ve enchantment seçip hesaplamayı başlatın"})]}),De=()=>{const[a,t]=H.useState(!1),[r,n]=H.useState(""),[s,o]=H.useState(""),[c,A]=H.useState(""),[h,u]=H.useState(""),[_,f]=H.useState("oneHand"),[T,g]=H.useState([]),[L,C]=H.useState(""),[N,x]=H.useState(!1),d=H.useCallback(()=>{o(""),A(""),u(""),f("oneHand"),C(""),x(!1),g([]),n("")},[]),p=H.useMemo(()=>{switch(_){case"oneHand":return w;case"twoHand":return q;case"helmet":return ee;case"armor":return Z;case"shoes":return ae;case"cape":return re;default:return w}},[_]),I=H.useMemo(()=>L.trim()?p.filter(m=>m.name.toLowerCase().includes(L.toLowerCase())||m.id.toLowerCase().includes(L.toLowerCase())).slice(0,10):[],[L,p]),i=H.useCallback(m=>{const R=[...w,...q,...ee,...Z,...ae,...re].find(O=>O.id===m);return R?R.name:m},[]),S=H.useCallback(()=>{Oe(_,s,c,h,t,n,g)},[_,s,c,h]);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx(ge,{}),e.jsx(Ce,{selectedWeaponType:_,setSelectedWeaponType:f,selectedWeapon:s,setSelectedWeapon:o,selectedTier:c,setSelectedTier:A,selectedEnchantment:h,setSelectedEnchantment:u,searchTerm:L,setSearchTerm:C,showSearchResults:N,setShowSearchResults:x,loading:a,calculateUpgrade:S,clearAll:d,getFilteredWeapons:I,tiers:Te,enchantments:Ne}),e.jsx(Me,{error:r}),e.jsx(Ie,{upgradeResults:T,selectedWeapon:s,selectedTier:c,selectedEnchantment:h,selectedWeaponType:_,getDisplayName:i}),e.jsx(ye,{loading:a})]})})};export{De as default};
